<!DOCTYPE html>
<head>
	<title>Select Mutation Operators</title>
	<!--<link rel="stylesheet" type="text/css" href="../css/mutOp.css">-->
	<link rel="stylesheet" href="../../node_modules/bootstrap/dist/css/bootstrap.min.css">
	<link rel = "stylesheet" href = "../css/main.css">
</head>
<body>
<div class="container-fluid p-2 bg-dark text-white" style = "min-height:100%">

	<script src="../js/req.js"></script>

	<div class="container-fluid mt-3">
		<!--Mutation operator navigation-->
		<ul class = "nav nav-tabs">
			<li class = "nav-item">
				<a class = "nav-link active" data-toggle="tab" href="#statementLvl">Statement/Expression-Level</a>
			</li>
			<li class = "nav-item">
				<a class = "nav-link" data-toggle="tab" href="#functionLvl">Function-Level</a>
			</li>
			<li class = "nav-item">
				<a class = "nav-link" data-toggle="tab" href="#intramoduleLvl">Intra-Module-Level</a>
			</li>
			<li class = "nav-item">
				<a class = "nav-link" data-toggle="tab" href="#intermoduleLvl">Inter-Module-Level</a>
			</li>
		</ul>


		<!-- Select-all JS function -->
		<script language="JavaScript">
			function toggle(source, name) {
				checkboxes = document.getElementsByName(name);
				for(var i = 0; i < checkboxes.length; i++)
					checkboxes[i].checked = source.checked;
			}
		</script>


		<div class = "tab-content">
			<!-- Statement/Expression Level Operators -->
			<div id="statementLvl" class = "container tab-pane active">
				<h3> Statement/Expression Level </h3>
				<form>
					<div class = "form-check">
						<label class = "form-check-label">
							<input type = "checkbox" class = "form-check-input" onClick= "toggle(this, 'stLvl')" /> Select All 
						</label> 
					</div>
					
                    
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "binary.mutateBinaryOperator(file, filename);">Binary Expression
                        </label>
                    </div>

                    <!-- !!!FOR LATER IMPLMENTATION!!!
					<div class = "form-check">
                        <label class = "form-check-label">
							<input type = "checkbox" data-toggle = "collapse" data-target = "#binaryList" 
							class = "form-check-input" name = "stLvl" value = "BinaryOp" oninput = "toggle(this, 'bLvl')">Binary Expression
						</label>
					</div>
                    -->

					<!-- !!!FOR LATER IMPLEMENTATION!!! 
                    <div id = "binaryList" class = "collapse" style="padding-left:20px">
						<div class = "form-check">
							<label class = "form-check-label">
								<input type = "checkbox" class = "form-check-input" name = "bLvl" value = "binary.mutateBinaryOperator(file, filename);">
							</label>
						</div>
                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "bLvl" value = "binaryBW">Bitwise Operators
                            </label>
                        </div>
                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "bLvl" value = "binaryAll">Arithmetic Operators
                            </label>
                        </div>
					</div> 
                    -->


                    <!-- FOR FURTHER IMPLEMENTATION
					<div class = "form-check">
                        <label class = "form-check-label">
							<input type = "checkbox" data-toggle = "collapse" data-target = "#unaryList" class = "form-check-input" name = "stLvl" value = "UnaryOp">Unary Expression
						</label>
					</div>

                    <div id = "unaryList" class = "collapse" style="padding-left:20px">
                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "unaryNot">Delete Not Operator
                            </label>
                        </div>
                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "unaryBWNot">Delete Bitwise Not Operator
                            </label>
                        </div>

                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "unarySwpIncDec">Increment/Decrement Swap Operators
                            </label>
                        </div>
                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "unaryDelIncDec">Delete Increment/Decrement Operators
                            </label>
                        </div>
                    </div>
                    -->
                    
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "unOp.mutateUnaryOperator(file, filename);">Unary Expression
                        </label>
                    </div>



					<div class = "form-check">
                        <label class = "form-check-label">
							<input type = "checkbox" data-toggle = "collapse" data-target = "#literalList" class = "form-check-input" name = "stLvl" value = "StringOp">Literal
						</label>
					</div>

					<div id = "literalList" class = "collapse" style="padding-left:20px">
                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "strOp.mutateStringOperator(file, filename);">String Operators
                            </label>
                        </div>
                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "intOp.mutateIntegerOperator(file, filename);">Integer Operators
                            </label>
                        </div>

                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "hexOp.mutateHexadecimalOperator(file, filename);">Hexadecimal Operators
                            </label>
                        </div>
                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "byteOp.mutateBytesOperator(file, filename);">Byte Operators
                            </label>
                        </div>
                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "boolOp.mutateBooleanOperator(file, filename);">Boolean Operators
                            </label>
                        </div>
                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "address.mutateAddressLiteralOperator(file, filename);">Address Literal Operators*
                            </label>
                        </div>
                        <div class = "form-check">
                            <label class = "form-check-label">
                                <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "gas.mutateGasOperator(file, filename);">Gas Literal Operators*
                            </label>
                        </div>

                    </div>


					<div class = "form-check">
                        <label class = "form-check-label">
							<input type = "checkbox" class = "form-check-input" name = "stLvl" value = "assign.mutateAssignmentOperator(file, filename);">Assignment Expression
						</label>
					</div>

                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "addressFunction.mutateAddressFunctionOperator(file, filename);">Address Function*
                        </label>
                    </div>

                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "address.mutateAddressSwitchCallExpressionOperator(file, filename);">Address Switch Call Expressions*
                        </label>
                    </div>

                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "stLvl" value = "modifiable.mutateDataLocationOperator(file, filename);">Data Location Operators*
                        </label>
                    </div>



    
					<button type="submit" class = "btn btn-primary btn-sm">Save</button>
				</form>
			</div>

			<!-- Function Level Operators -->
			<div id="functionLvl" class = "container tab-pane">
				<h3> Function Level </h3>
					<span><label><input type = "checkbox" onClick= "toggle(this, 'fLvl')" /> Select All </label> </span>
					<div class = "form-check">
						<label class = "form-check-label">
							<input type = "checkbox" class = "form-check-input" name = "fLvl" value = "statement.mutateStatementOperator(file, filename);">Delete Statement Operators
						</label>
					</div>

					<div class = "form-check">
						<label class = "form-check-label">
							<input type = "checkbox" class = "form-check-input" name = "fLvl" value = "block.mutateBlockOperator(file, filename);">Delete Block Operators
						</label>
					</div>

                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "fLvl" value = "error.mutateErrorHandleOperator(file, filename);">Exception-Handling Operators*
                        </label>
                    </div>

                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "fLvl" value = "events.mutateEventOperator(file, filename);">Event Operators*
                        </label>
                    </div>

                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "fLvl" value = "sd.mutateSelfdestructOperator(file, filename);">Selfdestruct Operators*
                        </label>
                    </div>

					<button type="submit" class = "btn btn-primary btn-sm">Save</button>

			</div>

			<!-- Intra-Module Level Operators -->
			<div id="intramoduleLvl" class = "container tab-pane">
				
				<h3> Intra-Module Level </h3>
					<span><label><input type = "checkbox" onClick= "toggle(this, 'intraLvl')" /> Select All </label> </span>
                    
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" data-toggle = "collapse" data-target = "#overList" 
                                class = "form-check-input" name = "intraLvl">
                                Overriding Operators
                        </label>
                    </div>
                    
                    <div id = "overList" class = "collapse" style="padding-left:20px">
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "over.mutateOverrideFunctionRename(file, filename);">Overriding Function Rename
                        </label>
                    </div>
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "over.mutateOverrideFunctionCPC(file, filename);">Overriding Function CPC
                        </label>
                    </div>
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "over.mutateOverrideFunctionDeleteOperator(file, filename);">Overriding Function Delete
                        </label>
                    </div>
                    </div>            
    
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" data-toggle = "collapse" data-target = "#HVList" class = "form-check-input" name = "stLvl">Hiding Variable Operators
                        </label>
                    </div>

                    <div id = "HVList" class = "collapse" style="padding-left:20px">
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "superOp.mutateHidingVariableInsert(file, filename);">Hiding Variable Insertion
                        </label>
                    </div>
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "superOp.mutateHidingVariableDelete(file, filename);">Hiding Variable Deletion
                        </label>
                    </div>
                    </div>

                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" data-toggle = "collapse" data-target = "#typeList" class = "form-check-input" name = "intralLvl">Type Operators
                        </label>
                    </div>

                    <div id = "typeList" class = "collapse" style="padding-left:20px">
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "superOp.mutateDeleteSuper(file, filename);">Delete Super Keyword
                        </label>
                    </div>
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "superOp.mutateInsertSuper(file, filename);">Insert Super Keyword
                        </label>
                    </div>
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "superOp.mutateTypeCastInsertion(file, filename);">Type Cast Insertion
                        </label>
                    </div>
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "superOp.mutateTypeCastDeletion(file, filename);">Type Cast Deletion
                        </label>
                    </div>
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "superOp.mutateTypeCastChange(file, filename);">Type Cast Change
                        </label>
                    </div>
                    </div>

                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "sv.mutateStateVarOperator(file, filename);">State Variably Visibility*
                        </label>
                    </div>
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "functionType.mutateFunctionTypeOperator(file, filename);">Function Type Operators*
                        </label>
                    </div>
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "functionVis.mutateFunctionVisibilityOperator(file, filename);">Function Visibility Operators*
                        </label>
                    </div>
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "library.mutateLibraryOperator(file, filename);">Library Visibility Operators*
                        </label>
                    </div>
                    <div class = "form-check">
                        <label class = "form-check-label">
                            <input type = "checkbox" class = "form-check-input" name = "intraLvl" value = "modifier.mutateModifierOperator(file, filename);">Function Modifier Operators*
                        </label>
                    </div>



					<button type="submit" class = "btn btn-primary btn-sm">Save</button>

			</div>
	
			<!-- Inter-Class Level Operators -->
			<div id="intermoduleLvl" class = "container tab-pane">
				<h3> Inter-Module Level </h3>
					<span><label><input type = "checkbox" onClick= "toggle(this, 'interLvl')" /> Select All </label> </span>
                    <div class = "form-check">
						<label class = "form-check-label">
							<input type = "checkbox" class = "mutCheck" name = "interlvl" value = "multInheritance">Multiple-Inheritance Operators
						</label>
					</div>



					<button type="submit" class = "btn btn-primary btn-sm pt-2">Save</button>

			</div>
		
		</div>
	</div>
		
	<script>
		const electron = require('electron');
		const {ipcRenderer} = electron;

        const form = document.querySelector('form');
        form.addEventListener('submit', submitForm);

			//populating checkboxes with saved data
			ipcRenderer.on('pop-checkboxes', function(e, data) {
				//e.preventDefault();
				var mutOps = document.getElementsByClassName('form-check-input');
				console.log(e);
				for(var i = 0; mutOps[i]; ++i){
					if(data.includes(mutOps[i].value)){
						mutOps[i].checked = true;
					}
				}
			});

            function submitForm(e){
				//console.log(e.body.value)
				var mutParam = "";
				var mutOps = document.getElementsByClassName('form-check-input');
				for(var i = 0; mutOps[i]; ++i){
					if(mutOps[i].checked && mutOps[i].value != "on"
                        && mutOps[i].value != "StringOp"
                    ){
						console.log(mutOps[i].value);
						mutParam += mutOps[i].value;
					}
				}
				
                ipcRenderer.send('op:select', mutParam);
            }
			
			window.onload = function(e) {
				ipcRenderer.send('load:mutops');
			}

			window.onunload = function(e) {
				//submitForm();
				console.log('unload');
			}
        </script>
</div>
</body>
</html>
