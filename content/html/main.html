<!DOCTYPE html>
<html lang = "en">
<div id="bg-main"></div>
<head>
	<title>Solidity Mutation</title>
	<link rel="stylesheet" type="text/css" href="../css/main.css">
</head>


<body>
	<h1>Solidity Mutation</h1>

	<div id = "fileDiv">
	<form>
		<div class="slct">
			<span><label>Solidity Project</label></span>
			<span><label for="mutFile" class ="btn">Select Directory</label></span>
			<input type="file" id="mutFile" style="visibility:hidden" webkitdirectory multiple onchange="listFiles(document.getElementById('mutFile').files[0].path);">
		</div>

		<div class="slct">
		
		<script src="../js/main.js"></script>

		<script> listFiles(document.getElementById("mutFile").files[0].path); </script>
		<select size="5" id='display-files'>
		
		</select>
		</div>


		<label for = "run" class = "btn" id = "runBtn">Run</label>
		<button id="run" type="submit" style="visibility:hidden">Run</button>

		<label for = "generate" class="btn" id="genBtn">Generate</label>
		<button id="generate" type="submit" style="visibility:hidden">Generate</button>
	</form>

	</div>

	<script>
		const electron = require('electron');
		const {ipcRenderer} = electron;

		const form = document.querySelector('form');
		form.addEventListener('submit', submitForm);

		function submitForm(e){
			e.preventDefault();
			const mutFile = document.getElementById('mutFile').files[0].path;
			const mutDirectory = document.getElementById('mutDir').files[0].path;

			const mutParam = [mutFile, mutDirectory]

			// Sending back to the applicaiton
			ipcRenderer.send('file:select', mutParam);
		}
	</script>

</body>
</html>
